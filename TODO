For some reason demuxing the mpeg stream causes stuttering when the
segment changes, due to synchronization issues between the video and the audio

Using ReadStream doesn't cause any issues

Not sure how ffmpeg can synchronize the mpeg transport stream



Multi-threaded TODO
1. Make it work with live streams, right now it doesn't add the segments
when the playlist is reloaded
2. Make it work with variant stream switching - which is disabled at the moment

Microstuttering still happening, may be due to
CDVDClock::ErrorAdjust - CVideoPlayerAudio::OutputPacket - error:42755.821683, adjusted:42755.821683
May be due to video fps not being correctly reported
-It is due to not taking into account the PCR to adjust the PTS values of the stream


Priorities:
1. Switching between variant streams
2. Seems to be micropauses when a segment is switched, is it due to the delay
within load_next_segment()? -> Not sure what the exact cause is
3. For live streams we should continually load data as it comes in instead
of only one ahead
4. Seek support for non-live streams



1. Support rest of addon interface
2. Don't keep around old segments?


Issues
1. Memory leak when running in Kodi - maybe due to kodi_hls.cpp not have dest
2. Timestamps
3. Commercial seemed to start randomly - maybe due to discontinuity flag
4. Seeking
5. Sometimes the audio makes a high pitched sound, maybe due to discountinuity tag?

Missing Support
-Tons of HLS features missing
